@switch (data().type) {
  @case ('AnalyticalCard') {
    <ngm-analytical-card class="z-0"
      [title]="data().title"
      [dataSettings]="data().dataSettings"
      [chartSettings]="chartSettings()"
      [slicers]="data().slicers"
      [options]="{
        showSlicers: true
      }"
      (explain)="setExplains($event)"
    >
      <button ngmAction class="btn pressable flex justify-center items-center w-7 h-7 rounded-full border-0 text-text-secondary hover:text-text-primary
        bg-transparent hover:bg-hover-bg"
        [matTooltip]="'PAC.Chat.OpenExplorer' | translate: {Default: 'Open Explorer'}"
        matTooltipPosition="above"
        (click)="openExplorer()">
        <i class="ri-expand-diagonal-2-line"></i>
      </button>

      <button ngmAction class="btn pressable flex justify-center items-center w-7 h-7 rounded-full border-0 text-text-secondary hover:text-text-primary
        bg-transparent hover:bg-hover-bg"
        [matTooltip]="'PAC.Chat.OpenInCanvas' | translate: {Default: 'Open in canvas'}"
        matTooltipPosition="above"
        (click)="openCanvas()">
        <svg class="shrink-0 w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3"/>
          <path d="M8 21h8"/>
          <path d="M12 17v4"/>
          <path d="m17 8 5-5"/>
          <path d="M17 3h5v5"/>
        </svg>
      </button>
    
      <button ngmAction class="btn pressable flex justify-center items-center w-7 h-7 rounded-full border-0 text-text-secondary hover:text-text-primary
        bg-transparent hover:bg-hover-bg"
        [matTooltip]="'PAC.Chat.OpenExplain' | translate: {Default: 'Open Explain'}"
        matTooltipPosition="above"
        (click)="openExplain()">
        <i class="ri-terminal-box-line"></i>
      </button>
    </ngm-analytical-card>
  }
  @case ('KPI') {
    <pac-widget-kpi class="mb-4" displayDensity="compact" [title]="data().title"
      [dataSettings]="data().dataSettings"
      [slicers]="data().slicers"
      [options]="{
        showToolbar: true,
        shortNumber: true,
        digitsInfo: '0.0-2'
      }"
      (explain)="setExplains($event)"
    >
      <button ngmAction class="btn pressable flex justify-center items-center w-7 h-7 rounded-full border-0 text-text-secondary hover:text-text-primary
        bg-transparent hover:bg-hover-bg"
        [matTooltip]="'PAC.Chat.OpenExplain' | translate: {Default: 'Open Explain'}"
        matTooltipPosition="above"
        (click)="openExplain()">
        <i class="ri-terminal-box-line"></i>
      </button>
    </pac-widget-kpi>
  }
  @case ('Indicators') {
    <chat-component-indicators [indicators]="indicators()" class="dark"/>
  }
  @case ('NewIndicator') {
    <chat-component-indicator [indicator]="indicator()" class="dark"/>
  }
  @default {
    <chat-tool-call-chunk [chunk]="data()" [conversationStatus]="conversationStatus()"
      openable
      (open)="openCanvas()"
    />
  }
}